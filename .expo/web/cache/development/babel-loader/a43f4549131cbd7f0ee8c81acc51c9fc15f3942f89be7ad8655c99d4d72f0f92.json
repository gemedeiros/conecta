{"ast":null,"code":"import * as React from 'react';\nimport useNavigation from './useNavigation';\nexport default function useNavigationState(selector) {\n  const navigation = useNavigation();\n  const [, setResult] = React.useState(() => selector(navigation.getState()));\n  const selectorRef = React.useRef(selector);\n  React.useEffect(() => {\n    selectorRef.current = selector;\n  });\n  React.useEffect(() => {\n    const unsubscribe = navigation.addListener('state', e => {\n      setResult(selectorRef.current(e.data.state));\n    });\n    return unsubscribe;\n  }, [navigation]);\n  return selector(navigation.getState());\n}","map":{"version":3,"names":["React","useNavigation","useNavigationState","selector","navigation","setResult","useState","getState","selectorRef","useRef","useEffect","current","unsubscribe","addListener","e","data","state"],"sources":["C:\\Users\\thiago.attico\\source\\repos\\conecta\\node_modules\\@react-navigation\\core\\src\\useNavigationState.tsx"],"sourcesContent":["import type { NavigationState, ParamListBase } from '@react-navigation/routers';\r\nimport * as React from 'react';\r\n\r\nimport type { NavigationProp } from './types';\r\nimport useNavigation from './useNavigation';\r\n\r\ntype Selector<ParamList extends ParamListBase, T> = (\r\n  state: NavigationState<ParamList>\r\n) => T;\r\n\r\n/**\r\n * Hook to get a value from the current navigation state using a selector.\r\n *\r\n * @param selector Selector function to get a value from the state.\r\n */\r\nexport default function useNavigationState<ParamList extends ParamListBase, T>(\r\n  selector: Selector<ParamList, T>\r\n): T {\r\n  const navigation = useNavigation<NavigationProp<ParamList>>();\r\n\r\n  // We don't care about the state value, we run the selector again at the end\r\n  // The state is only to make sure that there's a re-render when we have a new value\r\n  const [, setResult] = React.useState(() => selector(navigation.getState()));\r\n\r\n  // We store the selector in a ref to avoid re-subscribing listeners every render\r\n  const selectorRef = React.useRef(selector);\r\n\r\n  React.useEffect(() => {\r\n    selectorRef.current = selector;\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const unsubscribe = navigation.addListener('state', (e) => {\r\n      setResult(selectorRef.current(e.data.state));\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation]);\r\n\r\n  return selector(navigation.getState());\r\n}\r\n"],"mappings":"AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAG9B,OAAOC,aAAa,MAAM,iBAAiB;AAW3C,eAAe,SAASC,kBAAkBA,CACxCC,QAAgC,EAC7B;EACH,MAAMC,UAAU,GAAGH,aAAa,EAA6B;EAI7D,MAAM,GAAGI,SAAS,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAAC,MAAMH,QAAQ,CAACC,UAAU,CAACG,QAAQ,EAAE,CAAC,CAAC;EAG3E,MAAMC,WAAW,GAAGR,KAAK,CAACS,MAAM,CAACN,QAAQ,CAAC;EAE1CH,KAAK,CAACU,SAAS,CAAC,MAAM;IACpBF,WAAW,CAACG,OAAO,GAAGR,QAAQ;EAChC,CAAC,CAAC;EAEFH,KAAK,CAACU,SAAS,CAAC,MAAM;IACpB,MAAME,WAAW,GAAGR,UAAU,CAACS,WAAW,CAAC,OAAO,EAAGC,CAAC,IAAK;MACzDT,SAAS,CAACG,WAAW,CAACG,OAAO,CAACG,CAAC,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC;IAC9C,CAAC,CAAC;IAEF,OAAOJ,WAAW;EACpB,CAAC,EAAE,CAACR,UAAU,CAAC,CAAC;EAEhB,OAAOD,QAAQ,CAACC,UAAU,CAACG,QAAQ,EAAE,CAAC;AACxC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}